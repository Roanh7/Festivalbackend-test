<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styling/reviews.css">
    <title>Festival Reviews</title>
  
</head>
<body>
    <header>
        <h1>Festival Reviews</h1>
    </header>
    <div class="logo-container">
      <img src="/images/logo.png" alt="Festival Logo">
  </div>
  <!-- Navigatiebalk (horizontaal) -->
  <nav class="nav-bar">
    <ul>
        <li><a href="agenda.html">Home</a></li>
        <li><a href="reviews.html">Reviews</a></li>
        <li><a href="extra-info.html">Extra Info</a></li>
        <li><a href="register.html">Registreren</a></li>
        <li><a href="login.html">Inloggen</a></li>
        <li><a href="mijn-festivals.html">Mijn Festivals</a></li>
    </ul>

    <div id="userMenu" style="float:right;"></div>
</nav>
    <main>
        <div class="review">
            <div class="review-title">Wavy </div>
            <div class="review-title">21-12-2024 </div>
            <p class="review-text">Thuishaven vibe hier. Werd lekker gedraaid. Hier en daar regen, maar vanuit hier kan het alleen maar beter.</p>
            <p class="review-text">Stand:</p>
            <p class="review-text">- Jef 1</p>
            <p class="review-text">- Chip 1</p>
            <p class="review-text">- Roan 0</p>
        </div>
      
        <div class="back-button-container">
          <a href="agenda.html" class="back-button">Terug naar agenda</a>
      </div>
    </main>
</body>

<script src="/javascript/navstatus.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const userMenu = document.getElementById('userMenu');
      
      // Check localStorage
      const token = localStorage.getItem('token');
      const email = localStorage.getItem('email');
    
      if (token && email) {
        // Gebruiker is ingelogd, toon de naam en een "klik om uit te loggen" link
        userMenu.innerHTML = `
          <span style="cursor:pointer;" id="userNameSpan">Hallo, ${email}</span>
        `;
        
        // Event listener om popup te tonen
        const userNameSpan = document.getElementById('userNameSpan');
        userNameSpan.addEventListener('click', () => {
          // Simpele confirm popup
          const confirmLogout = confirm('Wil je uitloggen?');
          if (confirmLogout) {
            // Uitloggen
            localStorage.removeItem('token');
            localStorage.removeItem('email');
            // Refresh of redirect
            window.location.reload();
          }
        });
    
      } else {
        // Niet ingelogd; desnoods tonen we niets of een login-knop
        userMenu.textContent = '';
      }
    });
    </script>
</html>